<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5240 PcOff Agent - 잠금화면</title>
    <link rel="stylesheet" href="./styles.css" />
    <style>
      body {
        user-select: none;
        -webkit-user-select: none;
      }
      .lock-container {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <main id="lock-view" class="screen lock-container">
      <section class="fixed">
        <header class="top-box">
          <div class="logo-item">
            <span class="logo-mark">5240</span>
            <div class="logo-text-wrap">
              <strong>PCOFF AGENT</strong>
              <span>Smart Work Time Control</span>
            </div>
          </div>
          <div class="top-actions">
            <span id="user-display" class="user-display" aria-label="로그인 사용자"></span>
            <span id="app-version" class="version-badge"></span>
            <span id="state-badge" class="state-badge">state: loading</span>
          </div>
        </header>

        <section class="dashboard">
          <h1 id="lock-title" class="title">지금은 PC 화면이 잠겨있습니다.</h1>
          <p id="lock-info" class="info">
            PC 사용이 종료되었습니다. 임시연장은 PC-OFF 시간부터 정책에 따라 사용할 수 있습니다.
          </p>
          <button id="get-attend" class="action-link">나의 근태정보 불러오기</button>
        </section>

        <footer class="bottom-box">
          <div class="button-box">
            <button id="btn-extend" class="button ghost">
              <span>임시연장</span>
              <em id="extend-count" class="badge">0</em>
            </button>
            <button id="btn-use" class="button ghost">
              <span>긴급사용</span>
            </button>
          </div>
          <div class="time-box">
            <span id="date-text"></span>
            <strong id="time-text">--:--:--</strong>
          </div>
          <div class="button-box right">
            <button id="btn-play" class="button primary">PC-ON</button>
            <button id="btn-off" class="button danger">PC-OFF</button>
          </div>
        </footer>
      </section>
    </main>

    <aside id="attend-panel" class="attend-panel">
      <div class="panel-head">
        <strong>근태정보</strong>
        <button id="close-attend" class="panel-close">닫기</button>
      </div>
      <pre id="attend-content"></pre>
    </aside>

    <div id="toast" class="toast"></div>

    <div id="emergency-modal" class="modal-overlay hidden" aria-label="긴급사용 사유 입력">
      <div class="modal-box">
        <h2 class="modal-title">긴급사용 사유</h2>
        <p class="modal-desc">사유를 입력한 뒤 확인을 눌러 주세요.</p>
        <input id="emergency-reason-input" type="text" class="login-input modal-input" placeholder="예: 긴급 업무 처리" maxlength="200" />
        <div class="modal-actions">
          <button id="emergency-modal-cancel" class="button ghost">취소</button>
          <button id="emergency-modal-confirm" class="button primary">확인</button>
        </div>
      </div>
    </div>

    <!-- FR-04: 비밀번호 변경 확인 모달 (검증 없이 확인만) -->
    <div id="password-change-modal" class="modal-overlay hidden" aria-label="비밀번호 변경 확인">
      <div class="modal-box">
        <h2 class="modal-title">비밀번호 변경 알림</h2>
        <p id="password-change-message" class="modal-desc">비밀번호가 변경되었습니다.</p>
        <p class="modal-hint">확인 버튼을 눌러 계속 사용하세요. (재로그인이 필요하지 않습니다)</p>
        <div class="modal-actions">
          <button id="password-change-confirm" class="button primary">확인</button>
        </div>
      </div>
    </div>

    <script type="module" src="./lock.js"></script>
  </body>
</html>
