# Git 푸시 용량 초과 해결 (release/ 빌드 결과물)

GitHub는 **파일당 100MB** 제한이 있어, `release/` 안의 설치 파일(.exe)이 커밋되면 푸시가 거부됩니다.

## 원인

- `release/`는 빌드 결과물(Windows 설치 파일 등)이 들어가는 폴더입니다.
- 이 폴더가 예전에 커밋에 포함되면, **과거 커밋 히스토리**에 대용량 파일이 남아 푸시 시 100MB 제한에 걸립니다.
- `.gitignore`에 `release`가 있어도, **이미 커밋된 파일**은 계속 추적되며 히스토리에 남습니다.

## 해결 방법 (푸시가 거부된 PC에서 실행)

**전체 히스토리에서 `release/` 제거** 후 다시 푸시합니다.

### 1. 히스토리에서 release/ 제거

아래를 **프로젝트 루트**에서 실행하세요.

```bash
git filter-branch --force --index-filter \
  'git rm -rf --cached --ignore-unmatch release/' \
  --prune-empty HEAD
```

- 모든 커밋에서 `release/` 디렉터리를 제거합니다.
- 완료까지 시간이 조금 걸릴 수 있습니다.

### 2. 푸시

히스토리가 바뀌었으므로 **force push**가 필요합니다.

```bash
git push origin LKJ_DEV --force
```

- **주의**: 같은 브랜치를 다른 사람도 쓰면, 그들도 `git pull` 후 `--force`에 맞춰 다시 맞춰야 합니다. 혼자 쓰는 브랜치일 때 사용하는 것이 안전합니다.

### 3. 앞으로 release/가 다시 커밋되지 않도록

- `.gitignore`에 **release** 가 있는지 확인하세요. (이미 있으면 추가 작업 없음)
- 빌드 후 `git status`에서 `release/`가 보이면 **절대 `git add release/` 하지 마세요.**

## 한 번에 복사해서 실행 (요약)

```bash
cd /Users/lkj/5240개발자료/PCOFF_TEST

# 1) 히스토리에서 release/ 제거
git filter-branch --force --index-filter 'git rm -rf --cached --ignore-unmatch release/' --prune-empty HEAD

# 2) 푸시 (브랜치 이름은 본인 것으로)
git push origin LKJ_DEV --force
```

## 참고

- CI(태그 푸시 시)는 **빌드 후 GitHub Release에만** 업로드하므로, `release/`가 저장소에 커밋될 일은 없습니다.
- 로컬에서 `npm run dist:win` 등으로 빌드한 뒤에는 `release/`를 `git add` 하지 않으면 됩니다.
