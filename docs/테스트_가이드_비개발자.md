# 5240 PcOff Agent — 테스트 가이드 (비개발자용)

이 문서는 코딩 경험이 없어도 따라 할 수 있도록 테스트 방법을 단계별로 적어 둔 것입니다.  
**개발자에게 받은 폴더(프로젝트)와 테스트용 계정 정보**가 있으면 됩니다.

---

## 1. 테스트 전 준비

### 1.1 필요한 것

- **프로젝트 폴더**  
  개발자가 전달한 「5240 PcOff Agent」 프로젝트가 들어 있는 폴더(예: `PCOFF_TEST`).
- **Node.js 설치 여부**  
  터미널(명령 프롬프트)에서 `node -v` 입력 시 버전 번호가 나오면 됩니다.  
  나오지 않으면 개발자에게 “Node.js 설치해 주세요”라고 요청하세요.
- **테스트 계정 정보** (서버 연동 테스트 시)  
  - 전화번호  
  - 서비스 영역 이름(또는 목록에서 고를 수 있음)  
  - 사용자 ID  
  - 비밀번호  

위 정보는 **운영/개발 담당자**에게 받으면 됩니다.

### 1.2 터미널(명령 창) 여는 방법

- **Windows**:  
  - 프로젝트 폴더를 연 뒤 상단 주소창에 `cmd` 입력 후 Enter  
  - 또는 `시작 메뉴 → Windows 보조 프로그램 → 명령 프롬프트` 실행 후, `cd` 명령으로 프로젝트 폴더로 이동
- **macOS**:  
  - `Spotlight(Command+Space)` → `터미널` 입력 후 실행  
  - `cd` 명령으로 프로젝트 폴더로 이동 (예: `cd 바탕화면/PCOFF_TEST`)

---

## 2. 앱 실행 (가장 기본 테스트)

목적: **앱이 정상적으로 실행되는지** 확인합니다.

### 2.1 단계

1. 터미널(명령 프롬프트)을 연다.
2. 프로젝트 폴더로 이동한다.  
   예: `cd C:\경로\PCOFF_TEST` (Windows), `cd /Users/이름/경로/PCOFF_TEST` (macOS)
3. 아래 세 줄을 **한 줄씩** 입력하고 Enter를 누른다.  
   (이미 했다면 2번·3번만 해도 됨)
   ```
   npm install
   npm run build
   npm start
   ```

### 2.2 예상 결과

- **처음 실행이거나, 로그인한 적이 없을 때**  
  → **로그인 화면**이 뜹니다.  
  - 왼쪽 위에 「5240」「PCOFF AGENT」, 큰 글씨로 「로그인」, 전화번호 입력 칸이 보이면 정상입니다.
- **이미 로그인한 적이 있을 때**  
  → **잠금(메인) 화면**이 바로 뜹니다.  
  - 「PC 사용이 종료되었습니다」 같은 문구와, 아래쪽에 「임시연장」「긴급사용」「PC-ON」「PC-OFF」 버튼이 보이면 정상입니다.

### 2.3 문제가 생겼을 때

- **「npm을 찾을 수 없습니다」**  
  → Node.js가 설치되지 않았거나, 터미널을 새로 열지 않은 상태입니다. Node.js 설치 후 터미널을 다시 열고 2.1부터 다시 진행하세요.
- **창이 안 뜨거나 곧 꺼짐**  
  → 터미널에 빨간색 에러 메시지가 있는지 확인하고, 그 내용을 캡처해서 개발자에게 전달하세요.

---

## 3. 로그인 테스트 (화면 동작 확인)

목적: **로그인 화면에서 전화번호 → 서비스 영역 선택 → ID/비밀번호 입력 → 로그인**이 순서대로 되는지 확인합니다.

### 3.1 로그인 화면이 나오게 하기

- **처음 설치한 상태**  
  → 그냥 2번처럼 `npm start`만 하면 로그인 화면이 나옵니다.
- **이미 로그인된 상태(잠금 화면만 보일 때)**  
  → 개발자에게 “로그인 화면부터 다시 테스트하고 싶다”고 하고, 아래 중 하나를 요청하세요.  
  - `config.json`에서 로그인 정보를 빼는 방법  
  - 또는 **로그아웃 단축키**:  
    - Windows: **Ctrl + Shift + L**  
    - Mac: **Cmd + Shift + L**  
    (잠금 화면에서 위 키를 누르면 로그인 화면으로 돌아갑니다.)

### 3.2 1단계 — 전화번호 입력

1. 로그인 화면에서 **전화번호** 칸을 클릭한다.
2. **사용할 전화번호**를 입력한다.  
   - `010-1234-5678` 처럼 하이픈 있어도 되고, `01012345678` 처럼 없어도 됩니다.
3. **「다음」** 버튼(파란색)을 클릭한다.

**예상 결과**

- **정상**:  
  - 잠깐 후 화면이 바뀌어 **서비스 영역**을 고르는 메뉴(드롭다운)와 **사용자 ID**, **비밀번호** 입력 칸이 보인다.
- **비정상**:  
  - 빨간색으로 「등록된 서비스 영역이 없습니다」 → 전화번호가 서버에 등록되지 않았거나, 서버 주소 설정이 잘못된 경우입니다. 담당자에게 확인 요청하세요.  
  - 「API 주소가 설정되지 않았습니다」 → 개발자에게 `config.json`의 `apiBaseUrl` 설정을 요청하세요.

### 3.3 2단계 — 서비스 영역·ID·비밀번호 입력

1. **서비스 영역** 드롭다운을 클릭해 목록을 연다.
2. **본인에게 안내된 서비스 영역**(예: 본사, 오이사공 등)을 선택한다.
3. **사용자 ID** 칸에 테스트용 ID를 입력한다(예: 0006).
4. **비밀번호** 칸에 테스트용 비밀번호를 입력한다.
5. **「로그인」** 버튼(파란색)을 클릭한다.

**예상 결과**

- **정상**:  
  - 화면이 **잠금(메인) 화면**으로 바뀐다.  
  - 아래쪽에 「임시연장」「긴급사용」「PC-ON」「PC-OFF」 버튼이 보인다.
- **비정상**:  
  - 빨간색으로 「사용자 조회에 실패했습니다. 아이디와 비밀번호를 확인해주세요.»  
  → ID/비밀번호가 틀렸거나, 해당 서비스 영역에 등록된 계정이 아닐 수 있습니다. 담당자에게 계정 정보를 다시 확인받으세요.

### 3.4 이전으로 돌아가기

- 2단계 화면에서 **「이전」** 버튼을 누르면, 다시 **전화번호 입력(1단계)** 화면으로 돌아갑니다.

---

## 4. 잠금(메인) 화면 테스트

목적: **로그인 후 메인 화면의 버튼과 정보가 보이는지** 확인합니다.

### 4.1 확인할 것

1. **상단**  
   - 왼쪽: 「5240」「PCOFF AGENT」  
   - 오른쪽: 「업데이트 확인」 버튼, 상태 표시(예: state: …)
2. **가운데**  
   - 잠금 안내 문구(예: 「PC 사용이 종료되었습니다」)  
   - 「나의 근태정보 불러오기」 버튼
3. **하단**  
   - 왼쪽: 「임시연장」「긴급사용」  
   - 가운데: 현재 날짜·시간  
   - 오른쪽: 「PC-ON」「PC-OFF」

### 4.2 버튼 눌러 보기

- **「나의 근태정보 불러오기」**  
  → 클릭 시 오른쪽 아래에 **근태정보 패널**이 뜨고, PC 사용 가능 시간·임시연장 횟수 등이 표시되면 정상입니다.
- **「임시연장」**  
  → 클릭 시 잠시 후 화면 하단에 「임시연장 완료」 같은 **토스트 메시지**가 나오면 요청이 들어간 것입니다. (실제 연장 여부는 서버 정책에 따릅니다.)
- **「긴급사용」**  
  → 클릭 시 **사유 입력 창**이 뜨면, 사유를 입력한 뒤 확인하면 요청이 들어갑니다.
- **「PC-ON」 / 「PC-OFF」**  
  → 클릭 시 각각 「PC-ON 완료」「PC-OFF 완료」 같은 토스트가 나오면 요청이 들어간 것입니다.

※ 위 버튼들은 **실제 서버와 연동**되어 있으므로, 테스트 시에는 담당자와 협의한 계정·시간대에서 확인하는 것이 좋습니다.

---

## 5. 자주 나오는 문제 정리

| 화면/증상 | 가능한 원인 | 할 일 |
|-----------|-------------|--------|
| 로그인 화면이 안 나오고 잠금 화면만 보임 | 이미 로그인된 상태 | 로그아웃 단축키(Ctrl+Shift+L / Cmd+Shift+L) 후 다시 실행, 또는 개발자에게 config/state 초기화 요청 |
| 「등록된 서비스 영역이 없습니다」 | 전화번호 미등록 또는 서버 설정 문제 | 담당자에게 전화번호 등록·서버 주소(config.json) 확인 요청 |
| 「사용자 조회에 실패했습니다…」 | ID/비밀번호 오류 또는 권한 문제 | 담당자에게 테스트 계정·서비스 영역 재확인 요청 |
| 「Preload가 로드되지 않았습니다」 | 브라우저로 연 경우 | 반드시 **터미널에서 `npm start`로 실행**한 창에서 테스트. 브라우저 주소창으로 연 화면에서는 로그인 기능이 동작하지 않습니다. |
| 버튼을 눌러도 반응이 없음 | 서버 미연동 또는 네트워크 문제 | 인터넷 연결 확인, config.json의 apiBaseUrl이 맞는지 개발자에게 확인 요청 |

---

## 6. 테스트 결과 전달 방법

테스트 후 아래 내용을 정리해 개발자에게 전달하면 도움이 됩니다.

- **테스트한 날짜·시간**
- **OS** (예: Windows 11, macOS 14)
- **어디까지 진행했는지**  
  (예: 2번 앱 실행 → 정상, 3번 로그인 1단계 → 서비스 영역 안 나옴)
- **화면에 나온 메시지**  
  (빨간색 에러 문구가 있었다면 그대로 복사)
- **가능하면 화면 캡처**  
  (에러가 났을 때의 화면, 또는 “여기서 막혔다”는 화면)

---

## 7. 요약 — 최소한으로만 테스트할 때

1. 터미널을 열고 프로젝트 폴더로 이동.
2. `npm install` → `npm run build` → `npm start` 순서로 입력.
3. **로그인 화면** 또는 **잠금 화면**이 뜨는지 확인.
4. 로그인 화면이 떴다면: 전화번호 입력 → **다음** → 서비스 영역 선택 → ID·비밀번호 입력 → **로그인**.
5. 잠금 화면이 떴다면: **나의 근태정보 불러오기**, **임시연장**, **PC-ON** 중 하나라도 눌러서 토스트나 패널이 나오는지 확인.

여기까지 되면 “실행·로그인·메인 화면 동작”이 **기본적으로 동작한다**고 보면 됩니다.  
더 자세한 시나리오(자동 업데이트, 비밀번호 변경 등)는 개발자에게 문의하세요.
